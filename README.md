# REST-test [![Build Status](https://travis-ci.org/carvallegro/REST-test.svg?branch=master)](https://travis-ci.org/carvallegro/REST-test) [![Coverage Status](https://coveralls.io/repos/github/carvallegro/REST-test/badge.svg?branch=master)](https://coveralls.io/github/carvallegro/REST-test?branch=master)

test for Python Rest server

## Environments variables to set

You can generate your API key at `<your_discourse_url>/admin/users/8/<username>`

* DISCOURSE_BASE_URL : Base URL of your instance of Discourse
* DISCOURSE_API_KEY : API key generated by Discourse
* DISCOUSE_USERNAME : The username you've registered your API key under

## __problems for now__ : 
can't make pytest pass in CLI because of a import error. pytest command is : `py.test test/ --doctest-modules -v --cov application --cov-report term-missing`
~~Httmock is in the requirements and has been imported by PyCharm.~~ Corrected. Solution was to pip install the requirements.
New problem is that the tested code isn't found by pytest.
Tests are running smoothly when launched by the EDI too...

Result is :
```
===================================================================== test session starts ===============================================================================================
platform linux2 -- Python 2.7.6, pytest-3.0.2, py-1.4.31, pluggy-0.3.1 -- /usr/bin/python
cachedir: .cache
rootdir: /home/carvallegro/PycharmProjects/rest_test, inifile: 
plugins: cov-2.3.1
collected 0 items / 2 errors 

=========================================================================== ERRORS =======================================================================================================
______________________________________________ ERROR collecting test/integration/discourse_test/test_configuration.py ____________________________________________________________________
test/integration/discourse_test/test_configuration.py:6: in <module>
    from src.discourse import access
E   ImportError: No module named src.discourse
______________________________________________ ERROR collecting test/integration/discourse_test/test_configuration.py ____________________________________________________________________
ImportError while importing test module '/home/carvallegro/PycharmProjects/rest_test/test/integration/discourse_test/test_configuration.py'.
Original error message:
'No module named src.discourse'
Make sure your test modules/packages have valid Python names.
===================================================================== 2 error in 0.17 seconds ============================================================================================
```